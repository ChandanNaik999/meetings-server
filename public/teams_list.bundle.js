(()=>{"use strict";var e,t={5562:(e,t,n)=>{n.d(t,{CT:()=>r,o3:()=>a,A1:()=>o,ID:()=>c,MR:()=>i,pn:()=>s});var r="/api",a="token",o="name",c="id",i="success",s="error"},3515:(e,t,n)=>{n(4039),n(9256);var r=n(3379),a=n.n(r),o=n(7795),c=n.n(o),i=n(569),s=n.n(i),u=n(3565),d=n.n(u),m=n(9216),l=n.n(m),p=n(4589),h=n.n(p),f=n(6076),g={};g.styleTagTransform=h(),g.setAttributes=d(),g.insert=s().bind(null,"head"),g.domAPI=c(),g.insertStyleElement=l(),a()(f.Z,g),f.Z&&f.Z.locals&&f.Z.locals;var b=n(3136),v=n(5562),A=(n(3981),n(4559)),y=n.n(A),E=n(6451);function C(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){C(o,r,a,c,i,"next",e)}function i(e){C(o,r,a,c,i,"throw",e)}c(void 0)}))}}function x(){return(x=w(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().get("".concat(v.CT,"/teams"),{headers:{Authorization:"".concat((0,E.LP)())}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=w(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().post("".concat(v.CT,"/teams/"),t,{headers:{Authorization:"".concat((0,E.LP)())}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=w(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().patch("".concat(v.CT,"/teams/").concat(t._id,"?action=add_member&email=").concat(n),{},{headers:{Authorization:"".concat((0,E.LP)())}});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=w(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().patch("".concat(v.CT,"/teams/").concat(t._id,"?action=remove_member"),{},{headers:{Authorization:"".concat((0,E.LP)())}});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(1283),n(7588);const M={name:"Agile team 57",shortName:"agilenew",description:"Team spreading awareness about Agile practices at Zwiggy",members:[]};function L(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function B(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function c(e){L(o,r,a,c,i,"next",e)}function i(e){L(o,r,a,c,i,"throw",e)}c(void 0)}))}}function R(){return(R=B(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y().get("".concat(v.CT,"/users"),{headers:{Authorization:"".concat((0,E.LP)())}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=[];var P=null;document.getElementById("addNewTeamButton").addEventListener("click",(function(){(P=new bootstrap.Modal(document.getElementById("myModal"))).show()})),document.getElementById("modalDismiss").addEventListener("click",(function(){P.hide()})),document.getElementById("submitAddTeam").addEventListener("click",(function(){P.hide();var e,t=document.getElementById("inputTeamName").value;if(0!==t.length){var n=document.getElementById("inputShortName").value;if(0!==t.length){var r=document.getElementById("teamDescription").value;if(t.length<=0)(0,b.Z)("Please enter a longer description ( 10 characters min )",document.body,v.pn);else{var a=document.getElementById("inputMembers").value.replace(/\s+/g,"").split(","),o=M;o.name=t,o.shortName=n,o.description=r;for(var c=[],i=0;i<a.length;i+=1){var s=a[i];switch(e=s,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())?"email":/@[a-zA-Z\-0-9]+$/.test(String(e).toLowerCase())?"team":"none"){case"email":for(var u=0;u<k.length;u+=1)if(s.toLowerCase()===k[u].email.toLowerCase()){c.push({userId:k[u]._id,email:k[u].email});break}}}o.members=c,function(e){return I.apply(this,arguments)}(o).then((function(e){e.message===v.MR?(P.hide(),(0,b.Z)("Team added successfully",document.body,v.MR),document.getElementById("inputTeamName").value="",document.getElementById("inputShortName").value="",document.getElementById("teamDescription").value="",document.getElementById("inputMembers").value="",setTimeout((function(){window.location.reload()}),1500)):(0,b.Z)("Error adding team: ".concat(e.message),document.body,v.pn)})).catch((function(e){P.hide();try{(0,b.Z)("Error adding team: ".concat(e.response.data.description),document.body,v.pn)}catch(t){(0,b.Z)("Error adding team: ".concat(e.message),document.body,v.pn)}}))}}else(0,b.Z)("Please enter a team Short name.",document.body,v.pn)}else(0,b.Z)("Please enter a  team name",document.body,v.pn)})),null===localStorage.getItem(v.o3)&&(window.location="/login"),function(){return x.apply(this,arguments)}().then((function(e){e.message===v.MR?function(){return R.apply(this,arguments)}().then((function(t){t.message===v.MR?(k=t.data,function(e){var t=document.getElementById("teamsList");t.innerHTML="",e&&e.length>0?(document.getElementById("teamsListTitle").innerHTML="View and edit the teams that you are part of",e.forEach((function(e){var n=[];e.members.forEach((function(e){n.push(e.email)}));var r=document.createElement("div");r.setAttribute("class","card p-3 m-2");var a=document.createElement("div");a.setAttribute("class","card-body");var o=document.createElement("h5");o.setAttribute("class","card-title"),o.innerHTML=e.name,a.appendChild(o);var c=document.createElement("p");o.setAttribute("class","card-text"),c.innerHTML="@".concat(e.shortName),a.appendChild(c);var i=document.createElement("button");i.innerHTML="Leave team",i.setAttribute("class","button-outline-red px-4"),i.addEventListener("click",(function(){(function(e){return Z.apply(this,arguments)})(e).then((function(e){e.message===v.MR?((0,b.Z)("You have been removed from the team",document.body,v.MR),r.remove()):(0,b.Z)("Error removing: ".concat(e.message),document.body,v.pn)})).catch((function(e){try{(0,b.Z)("Error removing: ".concat(e.response.data.description),document.body,v.pn)}catch(t){(0,b.Z)("Error removing: ".concat(e.message),document.body,v.pn)}}))})),a.appendChild(i);var s=document.createElement("hr");s.setAttribute("class","my-3"),a.appendChild(s);var u=document.createElement("p");u.innerHTML="<strong>Members: </strong> ".concat(n.join(", ")),a.appendChild(u);var d=document.createElement("div");d.setAttribute("class","row gy-2 gx-3 align-items-center");var m=document.createElement("div");m.setAttribute("class","col-auto");var l=document.createElement("label");l.setAttribute("class","visually-hidden"),l.setAttribute("for","selectMember"),m.appendChild(l);var p=document.createElement("select");p.setAttribute("class","form-select"),p.setAttribute("id","selectMember"),p.setAttribute("aria-label","Select Member");var h=[];k.forEach((function(e){!1===n.includes(e.email)&&h.push(e)})),p.innerHTML='<option value="none" selected>Select member</option>',h.forEach((function(e){p.innerHTML+='<option value="'.concat(e.email,'">').concat(e.email,"</option>")})),m.appendChild(p),d.appendChild(m);var f=document.createElement("div");f.setAttribute("class","col-auto");var g=document.createElement("button");g.setAttribute("class","button mx-2"),g.innerHTML="Add member",g.addEventListener("click",(function(){"none"!==p.value&&function(e,t){return T.apply(this,arguments)}(e,p.value).then((function(e){e.message===v.MR?(n.push(p.value),u.innerHTML="<strong>Members: </strong> ".concat(n.join(", ")),(0,b.Z)("Added member successfully",document.body,v.MR)):(0,b.Z)("Error adding member: ".concat(e.message),document.body,v.pn)})).catch((function(e){try{(0,b.Z)("Error adding member: ".concat(e.response.data.description),document.body,v.pn)}catch(t){(0,b.Z)("Error adding member: ".concat(e.message),document.body,v.pn)}}))})),f.appendChild(g),d.appendChild(f),a.appendChild(d),r.appendChild(a),t.appendChild(r)}))):document.getElementById("teamsListTitle").innerHTML="Sorry:( you are not part of any team."}(e.data)):(0,b.Z)("Error fetching users: ".concat(t.message),document.body,v.pn)})).catch((function(e){try{(0,b.Z)("Error fetching users: ".concat(e.response.data.description),document.body,v.pn)}catch(t){(0,b.Z)("Error fetching users: ".concat(e.message),document.body,v.pn)}})):(0,b.Z)("Error fetching teams: ".concat(e.message),document.body,v.pn)})).catch((function(e){try{(0,b.Z)("Error fetching teams: ".concat(e.response.data.description),document.body,v.pn)}catch(t){(0,b.Z)("Error fetching teams: ".concat(e.message),document.body,v.pn)}}))},6076:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(6880),a=n.n(r),o=n(7705),c=n.n(o)()(a());c.push([e.id,":root {\r\n    font-size: 16px;\r\n}\r\n\r\n* {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.my-col {\r\n    flex-basis: 30%;\r\n    flex-grow: 0;\r\n    flex-shrink: 0;\r\n}\r\n\r\nhr {\r\n    margin-top: 1rem;\r\n    margin-bottom: 1rem;\r\n    border: 0;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.my-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(19rem, 1fr));\r\n}","",{version:3,sources:["webpack://./public/css/teams_list.css"],names:[],mappings:"AAAA;IACI,eAAe;AACnB;;AAEA;IACI,sBAAsB;AAC1B;;AAEA;IACI,eAAe;IACf,YAAY;IACZ,cAAc;AAClB;;AAEA;IACI,gBAAgB;IAChB,mBAAmB;IACnB,SAAS;IACT,wCAAwC;AAC5C;;AAEA;IACI,aAAa;IACb,2DAA2D;AAC/D",sourcesContent:[":root {\r\n    font-size: 16px;\r\n}\r\n\r\n* {\r\n    box-sizing: border-box;\r\n}\r\n\r\n.my-col {\r\n    flex-basis: 30%;\r\n    flex-grow: 0;\r\n    flex-shrink: 0;\r\n}\r\n\r\nhr {\r\n    margin-top: 1rem;\r\n    margin-bottom: 1rem;\r\n    border: 0;\r\n    border-top: 1px solid rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.my-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fit, minmax(19rem, 1fr));\r\n}"],sourceRoot:""}]);const i=c}},n={};function r(e){var a=n[e];if(void 0!==a)return a.exports;var o=n[e]={id:e,exports:{}};return t[e](o,o.exports,r),o.exports}r.m=t,e=[],r.O=(t,n,a,o)=>{if(!n){var c=1/0;for(d=0;d<e.length;d++){for(var[n,a,o]=e[d],i=!0,s=0;s<n.length;s++)(!1&o||c>=o)&&Object.keys(r.O).every((e=>r.O[e](n[s])))?n.splice(s--,1):(i=!1,o<c&&(c=o));if(i){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[n,a,o]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{r.b=document.baseURI||self.location.href;var e={856:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var a,o,[c,i,s]=n,u=0;for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(s)var d=s(r);for(t&&t(n);u<c.length;u++)o=c[u],r.o(e,o)&&e[o]&&e[o][0](),e[c[u]]=0;return r.O(d)},n=self.webpackChunkmeetings=self.webpackChunkmeetings||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=r.O(void 0,[39,911,960],(()=>r(3515)));a=r.O(a)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZWV0aW5ncy93ZWJwYWNrL3J1bnRpbWUvY2h1bmsgbG9hZGVkIiwid2VicGFjazovL21lZXRpbmdzLy4vcHVibGljL2pzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9tZWV0aW5ncy8uL3B1YmxpYy9jc3MvdGVhbXNfbGlzdC5jc3M/NzczYyIsIndlYnBhY2s6Ly9tZWV0aW5ncy8uL3B1YmxpYy9qcy9zZXJ2aWNlcy90ZWFtcy5qcyIsIndlYnBhY2s6Ly9tZWV0aW5ncy8uL3B1YmxpYy9qcy9kYXRhL2FkZF90ZWFtX2Zvcm0uanMiLCJ3ZWJwYWNrOi8vbWVldGluZ3MvLi9wdWJsaWMvanMvc2VydmljZXMvdXNlcl9tYW5hZ2VtZW50LmpzIiwid2VicGFjazovL21lZXRpbmdzLy4vcHVibGljL2pzL3RlYW1zX2xpc3QuanMiLCJ3ZWJwYWNrOi8vbWVldGluZ3MvLi9wdWJsaWMvY3NzL3RlYW1zX2xpc3QuY3NzIiwid2VicGFjazovL21lZXRpbmdzL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL21lZXRpbmdzL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL21lZXRpbmdzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9tZWV0aW5ncy93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL21lZXRpbmdzL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vbWVldGluZ3Mvd2VicGFjay9ydW50aW1lL2pzb25wIGNodW5rIGxvYWRpbmciLCJ3ZWJwYWNrOi8vbWVldGluZ3Mvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbImRlZmVycmVkIiwiQVBJX0JBU0VfVVJMIiwicHJvY2VzcyIsIlRPS0VOIiwiTkFNRSIsIklEIiwiU1VDQ0VTUyIsIkVSUk9SIiwib3B0aW9ucyIsInN0eWxlVGFnVHJhbnNmb3JtIiwic2V0QXR0cmlidXRlcyIsImluc2VydCIsImRvbUFQSSIsImluc2VydFN0eWxlRWxlbWVudCIsImF4aW9zIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJnZXRUb2tlbiIsInJlc3BvbnNlIiwiZGF0YSIsInRlYW1KU09OIiwidGVhbSIsImVtYWlsIiwidXNlcnMiLCJteU1vZGFsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJib290c3RyYXAiLCJNb2RhbCIsInNob3ciLCJoaWRlIiwiYXR0ZW5kZWUiLCJ0ZWFtTmFtZSIsInZhbHVlIiwibGVuZ3RoIiwidGVhbVNob3J0TmFtZSIsInRlYW1EZXNjcmlwdGlvbiIsImFkZFRvYXN0IiwiYm9keSIsInRlYW1NZW1iZXJzIiwicmVwbGFjZSIsInNwbGl0Iiwic3VibWl0SlNPTiIsIkFERF9URUFNX0ZPUk0iLCJhdHRlbmRlZXNKU09OIiwiaWR4QXR0IiwibWVtYmVyIiwidGVzdCIsIlN0cmluZyIsInRvTG93ZXJDYXNlIiwiaWR4IiwicHVzaCIsInVzZXJJZCIsImFkZFRlYW0iLCJ0aGVuIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsImVycm9yIiwiZGVzY3JpcHRpb24iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZmV0Y2hUZWFtcyIsInRlYW1zIiwiZ2V0QWxsVXNlcnMiLCJfdXNlcnMiLCJtZWV0aW5nc0xpc3REaXYiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwibWVtYmVycyIsImNhcmQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwiY2FyZEJvZHkiLCJjYXJkVGl0bGUiLCJhcHBlbmRDaGlsZCIsImNhcmRUZXh0IiwiYnV0dG9uRXhjdXNlIiwiZXhjdXNlRnJvbVRlYW0iLCJyZW1vdmUiLCJociIsImpvaW4iLCJzZWxlY3RNZW1iZXJEaXYiLCJjb2xTZWxlY3RNZW1iZXIiLCJsYWJlbFNlbGVjdE1lbWJlciIsInNlbGVjdE1lbWJlciIsIm5vbk1lbWJlcnMiLCJ1c2VyIiwiaW5jbHVkZXMiLCJub25NZW1iZXIiLCJjb2xTZWxlY3RNZW1iZXIyIiwiY29sU2VsZWN0QnV0dG9uIiwiYWRkTWVtYmVyVG9UZWFtIiwicG9wdWxhdGVUZWFtcyIsIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwibW9kdWxlIiwiaWQiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJ1bmRlZmluZWQiLCJleHBvcnRzIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm0iLCJPIiwicmVzdWx0IiwiY2h1bmtJZHMiLCJmbiIsInByaW9yaXR5Iiwibm90RnVsZmlsbGVkIiwiSW5maW5pdHkiLCJpIiwiZnVsZmlsbGVkIiwiaiIsIk9iamVjdCIsImtleXMiLCJldmVyeSIsImtleSIsInNwbGljZSIsInIiLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsIm8iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiYiIsImJhc2VVUkkiLCJzZWxmIiwiaHJlZiIsImluc3RhbGxlZENodW5rcyIsImNodW5rSWQiLCJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsInBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uIiwibW9yZU1vZHVsZXMiLCJydW50aW1lIiwiY2h1bmtMb2FkaW5nR2xvYmFsIiwiYmluZCIsIl9fd2VicGFja19leHBvcnRzX18iXSwibWFwcGluZ3MiOiJ1QkFBSUEsRSxpRkNDSixJQUFRQyxFQUFpQkMsT0FDbkJDLEVBQVEsUUFFUkMsRUFBTyxPQUNQQyxFQUFLLEtBRUxDLEVBQVUsVUFDVkMsRUFBUSxTLDhKQ0dWQyxFQUFVLEdBRWRBLEVBQVFD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RUFBRUwsR0FBWWtELEVBQVlsRCxJQUdoRCxHQUFHbUQsRUFBUyxJQUFJNUMsRUFBUzRDLEVBQVFwRCxHQUVqQyxJQURHa0QsR0FBNEJBLEVBQTJCcEksR0FDckRnRyxFQUFJTCxFQUFTM0UsT0FBUWdGLElBQ3pCa0MsRUFBVXZDLEVBQVNLLEdBQ2hCZCxFQUFvQjZCLEVBQUVrQixFQUFpQkMsSUFBWUQsRUFBZ0JDLElBQ3JFRCxFQUFnQkMsR0FBUyxLQUUxQkQsRUFBZ0J0QyxFQUFTSyxJQUFNLEVBRWhDLE9BQU9kLEVBQW9CTyxFQUFFQyxJQUcxQjZDLEVBQXFCUixLQUEyQixxQkFBSUEsS0FBMkIsc0JBQUssR0FDeEZRLEVBQW1CbkYsUUFBUStFLEVBQXFCSyxLQUFLLEtBQU0sSUFDM0RELEVBQW1CdEcsS0FBT2tHLEVBQXFCSyxLQUFLLEtBQU1ELEVBQW1CdEcsS0FBS3VHLEtBQUtELEssR0MzQ3ZGLElBQUlFLEVBQXNCdkQsRUFBb0JPLE9BQUVKLEVBQVcsQ0FBQyxHQUFHLElBQUksTUFBTSxJQUFPSCxFQUFvQixRQUNwR3VELEVBQXNCdkQsRUFBb0JPLEVBQUVnRCxJIiwiZmlsZSI6InRlYW1zX2xpc3QuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlZmVycmVkID0gW107XG5fX3dlYnBhY2tfcmVxdWlyZV9fLk8gPSAocmVzdWx0LCBjaHVua0lkcywgZm4sIHByaW9yaXR5KSA9PiB7XG5cdGlmKGNodW5rSWRzKSB7XG5cdFx0cHJpb3JpdHkgPSBwcmlvcml0eSB8fCAwO1xuXHRcdGZvcih2YXIgaSA9IGRlZmVycmVkLmxlbmd0aDsgaSA+IDAgJiYgZGVmZXJyZWRbaSAtIDFdWzJdID4gcHJpb3JpdHk7IGktLSkgZGVmZXJyZWRbaV0gPSBkZWZlcnJlZFtpIC0gMV07XG5cdFx0ZGVmZXJyZWRbaV0gPSBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV07XG5cdFx0cmV0dXJuO1xuXHR9XG5cdHZhciBub3RGdWxmaWxsZWQgPSBJbmZpbml0eTtcblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBkZWZlcnJlZC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBbY2h1bmtJZHMsIGZuLCBwcmlvcml0eV0gPSBkZWZlcnJlZFtpXTtcblx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcblx0XHRmb3IgKHZhciBqID0gMDsgaiA8IGNodW5rSWRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRpZiAoKHByaW9yaXR5ICYgMSA9PT0gMCB8fCBub3RGdWxmaWxsZWQgPj0gcHJpb3JpdHkpICYmIE9iamVjdC5rZXlzKF9fd2VicGFja19yZXF1aXJlX18uTykuZXZlcnkoKGtleSkgPT4gKF9fd2VicGFja19yZXF1aXJlX18uT1trZXldKGNodW5rSWRzW2pdKSkpKSB7XG5cdFx0XHRcdGNodW5rSWRzLnNwbGljZShqLS0sIDEpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0ZnVsZmlsbGVkID0gZmFsc2U7XG5cdFx0XHRcdGlmKHByaW9yaXR5IDwgbm90RnVsZmlsbGVkKSBub3RGdWxmaWxsZWQgPSBwcmlvcml0eTtcblx0XHRcdH1cblx0XHR9XG5cdFx0aWYoZnVsZmlsbGVkKSB7XG5cdFx0XHRkZWZlcnJlZC5zcGxpY2UoaS0tLCAxKVxuXHRcdFx0dmFyIHIgPSBmbigpO1xuXHRcdFx0aWYgKHIgIT09IHVuZGVmaW5lZCkgcmVzdWx0ID0gcjtcblx0XHR9XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn07IiwiLy8gY29uc3QgQVBJX0JBU0VfVVJMID0gJ2h0dHA6Ly9teW1lZXRpbmdzYXBwLmhlcm9rdWFwcC5jb20vYXBpJztcclxuY29uc3QgeyBBUElfQkFTRV9VUkwgfSA9IHByb2Nlc3MuZW52O1xyXG5jb25zdCBUT0tFTiA9ICd0b2tlbic7XHJcbmNvbnN0IEVNQUlMID0gJ2VtYWlsJztcclxuY29uc3QgTkFNRSA9ICduYW1lJztcclxuY29uc3QgSUQgPSAnaWQnO1xyXG5cclxuY29uc3QgU1VDQ0VTUyA9ICdzdWNjZXNzJztcclxuY29uc3QgRVJST1IgPSAnZXJyb3InO1xyXG5cclxuZXhwb3J0IHtcclxuICAgIEFQSV9CQVNFX1VSTCxcclxuICAgIFRPS0VOLFxyXG4gICAgRU1BSUwsXHJcbiAgICBOQU1FLFxyXG4gICAgSUQsXHJcbiAgICBTVUNDRVNTLFxyXG4gICAgRVJST1IsXHJcbn07XHJcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi90ZWFtc19saXN0LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vdGVhbXNfbGlzdC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5pbXBvcnQgeyBBUElfQkFTRV9VUkwgfSBmcm9tICcuLi9jb25zdGFudHMnO1xyXG5pbXBvcnQgeyBnZXRUb2tlbiB9IGZyb20gJy4vYXV0aCc7XHJcbmltcG9ydCAnY29yZS1qcy9zdGFibGUnO1xyXG5pbXBvcnQgJ3JlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSc7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFRlYW1zKCkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5nZXQoXHJcbiAgICAgICAgYCR7QVBJX0JBU0VfVVJMfS90ZWFtc2AsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgJHtnZXRUb2tlbigpfWAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZFRlYW0oIHRlYW1KU09OICkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wb3N0KFxyXG4gICAgICAgIGAke0FQSV9CQVNFX1VSTH0vdGVhbXMvYCxcclxuICAgICAgICB0ZWFtSlNPTixcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGAke2dldFRva2VuKCl9YCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkTWVtYmVyVG9UZWFtKCB0ZWFtLCBlbWFpbCApIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MucGF0Y2goXHJcbiAgICAgICAgYCR7QVBJX0JBU0VfVVJMfS90ZWFtcy8ke3RlYW1bJ19pZCddfT9hY3Rpb249YWRkX21lbWJlciZlbWFpbD0ke2VtYWlsfWAsXHJcbiAgICAgICAge30sXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgJHtnZXRUb2tlbigpfWAsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICk7XHJcblxyXG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGV4Y3VzZUZyb21UZWFtKCB0ZWFtICkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBheGlvcy5wYXRjaChcclxuICAgICAgICBgJHtBUElfQkFTRV9VUkx9L3RlYW1zLyR7dGVhbVsnX2lkJ119P2FjdGlvbj1yZW1vdmVfbWVtYmVyYCxcclxuICAgICAgICB7fSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGAke2dldFRva2VuKCl9YCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgKTtcclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIGZldGNoVGVhbXMsXHJcbiAgICBhZGRUZWFtLFxyXG4gICAgYWRkTWVtYmVyVG9UZWFtLFxyXG4gICAgZXhjdXNlRnJvbVRlYW0sXHJcbn07XHJcbiIsIi8qIGVzbGludC1kaXNhYmxlICovXHJcbmNvbnN0IEFERF9URUFNX0ZPUk0gPSB7XHJcbiAgICBcIm5hbWVcIjogXCJBZ2lsZSB0ZWFtIDU3XCIsXHJcbiAgICBcInNob3J0TmFtZVwiOiBcImFnaWxlbmV3XCIsXHJcbiAgICBcImRlc2NyaXB0aW9uXCI6IFwiVGVhbSBzcHJlYWRpbmcgYXdhcmVuZXNzIGFib3V0IEFnaWxlIHByYWN0aWNlcyBhdCBad2lnZ3lcIixcclxuICAgIFwibWVtYmVyc1wiOiBbXVxyXG59O1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IEFERF9URUFNX0ZPUk07IiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcclxuaW1wb3J0IHsgQVBJX0JBU0VfVVJMIH0gZnJvbSAnLi4vY29uc3RhbnRzJztcclxuaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICcuL2F1dGgnO1xyXG5cclxuaW1wb3J0ICdjb3JlLWpzL3N0YWJsZSc7XHJcbmltcG9ydCAncmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lJztcclxuXHJcbi8qKlxyXG4gKiBHZXQgdGhlIGxpc3Qgb2YgYWxsIHJlZ2lzdGVyZWQgdXNlcnMuXHJcbiAqIEByZXR1cm5zIGxpc3Qgb2YgYWxsIHVzZXJzXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBnZXRBbGxVc2VycygpIHtcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXhpb3MuZ2V0KFxyXG4gICAgICAgIGAke0FQSV9CQVNFX1VSTH0vdXNlcnNgLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYCR7Z2V0VG9rZW4oKX1gLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnZXRBbGxVc2VycztcclxuIiwiaW1wb3J0ICdib290c3RyYXAvZGlzdC9jc3MvYm9vdHN0cmFwLm1pbi5jc3MnO1xyXG5pbXBvcnQgJy4uL2Nzcy9tYWluLmNzcyc7XHJcbmltcG9ydCAnLi4vY3NzL3RlYW1zX2xpc3QuY3NzJztcclxuaW1wb3J0IGFkZFRvYXN0IGZyb20gJy4vY3VzdG9tcy9hcHAnO1xyXG5pbXBvcnQgeyBTVUNDRVNTLCBFUlJPUiwgVE9LRU4gfSBmcm9tICcuL2NvbnN0YW50cyc7XHJcbmltcG9ydCAnLi9hcHAnO1xyXG5pbXBvcnQgeyBhZGRNZW1iZXJUb1RlYW0sIGZldGNoVGVhbXMsIGV4Y3VzZUZyb21UZWFtLCBhZGRUZWFtIH0gZnJvbSAnLi9zZXJ2aWNlcy90ZWFtcyc7XHJcbmltcG9ydCBBRERfVEVBTV9GT1JNIGZyb20gJy4vZGF0YS9hZGRfdGVhbV9mb3JtJztcclxuaW1wb3J0IGdldEFsbFVzZXJzIGZyb20gJy4vc2VydmljZXMvdXNlcl9tYW5hZ2VtZW50JztcclxuXHJcbmxldCB1c2VycyA9IFtdO1xyXG5cclxuZnVuY3Rpb24gcG9wdWxhdGVUZWFtcyggdGVhbXMgKSB7XHJcbiAgICBjb25zdCBtZWV0aW5nc0xpc3REaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3RlYW1zTGlzdCcgKTtcclxuICAgIG1lZXRpbmdzTGlzdERpdi5pbm5lckhUTUwgPSAnJztcclxuXHJcbiAgICBpZiAoIHRlYW1zICYmIHRlYW1zLmxlbmd0aCA+IDAgKSB7XHJcbiAgICAgICAgY29uc3QgbWVldGluZ3NMaXN0VGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3RlYW1zTGlzdFRpdGxlJyApO1xyXG4gICAgICAgIG1lZXRpbmdzTGlzdFRpdGxlLmlubmVySFRNTCA9ICdWaWV3IGFuZCBlZGl0IHRoZSB0ZWFtcyB0aGF0IHlvdSBhcmUgcGFydCBvZic7XHJcbiAgICAgICAgdGVhbXMuZm9yRWFjaCggKCB0ZWFtICkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBtZW1iZXJzID0gW107XHJcbiAgICAgICAgICAgIHRlYW1bJ21lbWJlcnMnXS5mb3JFYWNoKCAoIG1lbWJlciApID0+IHtcclxuICAgICAgICAgICAgICAgIG1lbWJlcnMucHVzaCggbWVtYmVyWydlbWFpbCddICk7XHJcbiAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG4gICAgICAgICAgICAvLyBjYXJkLnNldEF0dHJpYnV0ZSggJ2NsYXNzJywgJ2NhcmQgbXktY29sIHAtMyBtLTIgY29sLTEyIGNvbC1zbS02IGNvbC1tZC00JyApO1xyXG4gICAgICAgICAgICBjYXJkLnNldEF0dHJpYnV0ZSggJ2NsYXNzJywgJ2NhcmQgcC0zIG0tMicgKTtcclxuICAgICAgICAgICAgY29uc3QgY2FyZEJvZHkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnZGl2JyApO1xyXG4gICAgICAgICAgICBjYXJkQm9keS5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdjYXJkLWJvZHknICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjYXJkVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnaDUnICk7XHJcbiAgICAgICAgICAgIGNhcmRUaXRsZS5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdjYXJkLXRpdGxlJyApO1xyXG4gICAgICAgICAgICBjYXJkVGl0bGUuaW5uZXJIVE1MID0gdGVhbVsnbmFtZSddO1xyXG4gICAgICAgICAgICBjYXJkQm9keS5hcHBlbmRDaGlsZCggY2FyZFRpdGxlICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjYXJkVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdwJyApO1xyXG4gICAgICAgICAgICBjYXJkVGl0bGUuc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnY2FyZC10ZXh0JyApO1xyXG4gICAgICAgICAgICBjYXJkVGV4dC5pbm5lckhUTUwgPSBgQCR7dGVhbVsnc2hvcnROYW1lJ119YDtcclxuICAgICAgICAgICAgY2FyZEJvZHkuYXBwZW5kQ2hpbGQoIGNhcmRUZXh0ICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBidXR0b25FeGN1c2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xyXG4gICAgICAgICAgICBidXR0b25FeGN1c2UuaW5uZXJIVE1MID0gJ0xlYXZlIHRlYW0nO1xyXG4gICAgICAgICAgICBidXR0b25FeGN1c2Uuc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnYnV0dG9uLW91dGxpbmUtcmVkIHB4LTQnICk7XHJcbiAgICAgICAgICAgIGJ1dHRvbkV4Y3VzZS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBleGN1c2VGcm9tVGVhbSggdGVhbSApXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICggcmVzcG9uc2UgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UubWVzc2FnZSA9PT0gU1VDQ0VTUyApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvYXN0KCAnWW91IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIHRlYW0nLCBkb2N1bWVudC5ib2R5LCBTVUNDRVNTICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXJkLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciByZW1vdmluZzogJHtyZXNwb25zZS5tZXNzYWdlfWAsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IClcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goICggZXJyb3IgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb2FzdCggYEVycm9yIHJlbW92aW5nOiAke2Vycm9yLnJlc3BvbnNlLmRhdGEuZGVzY3JpcHRpb259YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRUb2FzdCggYEVycm9yIHJlbW92aW5nOiAke2Vycm9yLm1lc3NhZ2V9YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICBjYXJkQm9keS5hcHBlbmRDaGlsZCggYnV0dG9uRXhjdXNlICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBociA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdocicgKTtcclxuICAgICAgICAgICAgaHIuc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnbXktMycgKTtcclxuICAgICAgICAgICAgY2FyZEJvZHkuYXBwZW5kQ2hpbGQoIGhyICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0ZWFtTWVtYmVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdwJyApO1xyXG4gICAgICAgICAgICB0ZWFtTWVtYmVycy5pbm5lckhUTUwgPSBgPHN0cm9uZz5NZW1iZXJzOiA8L3N0cm9uZz4gJHttZW1iZXJzLmpvaW4oICcsICcgKX1gO1xyXG4gICAgICAgICAgICBjYXJkQm9keS5hcHBlbmRDaGlsZCggdGVhbU1lbWJlcnMgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdE1lbWJlckRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcbiAgICAgICAgICAgIHNlbGVjdE1lbWJlckRpdi5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdyb3cgZ3ktMiBneC0zIGFsaWduLWl0ZW1zLWNlbnRlcicgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGNvbFNlbGVjdE1lbWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcbiAgICAgICAgICAgIGNvbFNlbGVjdE1lbWJlci5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdjb2wtYXV0bycgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsU2VsZWN0TWVtYmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggJ2xhYmVsJyApO1xyXG4gICAgICAgICAgICBsYWJlbFNlbGVjdE1lbWJlci5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICd2aXN1YWxseS1oaWRkZW4nICk7XHJcbiAgICAgICAgICAgIGxhYmVsU2VsZWN0TWVtYmVyLnNldEF0dHJpYnV0ZSggJ2ZvcicsICdzZWxlY3RNZW1iZXInICk7XHJcbiAgICAgICAgICAgIGNvbFNlbGVjdE1lbWJlci5hcHBlbmRDaGlsZCggbGFiZWxTZWxlY3RNZW1iZXIgKTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdE1lbWJlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdzZWxlY3QnICk7XHJcbiAgICAgICAgICAgIHNlbGVjdE1lbWJlci5zZXRBdHRyaWJ1dGUoICdjbGFzcycsICdmb3JtLXNlbGVjdCcgKTtcclxuICAgICAgICAgICAgc2VsZWN0TWVtYmVyLnNldEF0dHJpYnV0ZSggJ2lkJywgJ3NlbGVjdE1lbWJlcicgKTtcclxuICAgICAgICAgICAgc2VsZWN0TWVtYmVyLnNldEF0dHJpYnV0ZSggJ2FyaWEtbGFiZWwnLCAnU2VsZWN0IE1lbWJlcicgKTtcclxuICAgICAgICAgICAgY29uc3Qgbm9uTWVtYmVycyA9IFtdO1xyXG4gICAgICAgICAgICB1c2Vycy5mb3JFYWNoKCAoIHVzZXIgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIG1lbWJlcnMuaW5jbHVkZXMoIHVzZXJbJ2VtYWlsJ10gKSA9PT0gZmFsc2UgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbm9uTWVtYmVycy5wdXNoKCB1c2VyICk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gKTtcclxuXHJcbiAgICAgICAgICAgIHNlbGVjdE1lbWJlci5pbm5lckhUTUwgPSAnPG9wdGlvbiB2YWx1ZT1cIm5vbmVcIiBzZWxlY3RlZD5TZWxlY3QgbWVtYmVyPC9vcHRpb24+JztcclxuICAgICAgICAgICAgbm9uTWVtYmVycy5mb3JFYWNoKCAoIG5vbk1lbWJlciApID0+IHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdE1lbWJlci5pbm5lckhUTUwgKz0gYDxvcHRpb24gdmFsdWU9XCIke25vbk1lbWJlclsnZW1haWwnXX1cIj4ke25vbk1lbWJlclsnZW1haWwnXX08L29wdGlvbj5gO1xyXG4gICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgIGNvbFNlbGVjdE1lbWJlci5hcHBlbmRDaGlsZCggc2VsZWN0TWVtYmVyICk7XHJcblxyXG4gICAgICAgICAgICBzZWxlY3RNZW1iZXJEaXYuYXBwZW5kQ2hpbGQoIGNvbFNlbGVjdE1lbWJlciApO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgY29sU2VsZWN0TWVtYmVyMiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICdkaXYnICk7XHJcbiAgICAgICAgICAgIGNvbFNlbGVjdE1lbWJlcjIuc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnY29sLWF1dG8nICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBjb2xTZWxlY3RCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCAnYnV0dG9uJyApO1xyXG4gICAgICAgICAgICBjb2xTZWxlY3RCdXR0b24uc2V0QXR0cmlidXRlKCAnY2xhc3MnLCAnYnV0dG9uIG14LTInICk7XHJcbiAgICAgICAgICAgIGNvbFNlbGVjdEJ1dHRvbi5pbm5lckhUTUwgPSAnQWRkIG1lbWJlcic7XHJcbiAgICAgICAgICAgIGNvbFNlbGVjdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIHNlbGVjdE1lbWJlci52YWx1ZSAhPT0gJ25vbmUnICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFkZE1lbWJlclRvVGVhbSggdGVhbSwgc2VsZWN0TWVtYmVyLnZhbHVlIClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oICggcmVzcG9uc2UgKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJlc3BvbnNlLm1lc3NhZ2UgPT09IFNVQ0NFU1MgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVtYmVycy5wdXNoKCBzZWxlY3RNZW1iZXIudmFsdWUgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWFtTWVtYmVycy5pbm5lckhUTUwgPSBgPHN0cm9uZz5NZW1iZXJzOiA8L3N0cm9uZz4gJHttZW1iZXJzLmpvaW4oICcsICcgKX1gO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvYXN0KCAnQWRkZWQgbWVtYmVyIHN1Y2Nlc3NmdWxseScsIGRvY3VtZW50LmJvZHksIFNVQ0NFU1MgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciBhZGRpbmcgbWVtYmVyOiAke3Jlc3BvbnNlLm1lc3NhZ2V9YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaCggKCBlcnJvciApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciBhZGRpbmcgbWVtYmVyOiAke2Vycm9yLnJlc3BvbnNlLmRhdGEuZGVzY3JpcHRpb259YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvYXN0KCBgRXJyb3IgYWRkaW5nIG1lbWJlcjogJHtlcnJvci5tZXNzYWdlfWAsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSApO1xyXG5cclxuICAgICAgICAgICAgY29sU2VsZWN0TWVtYmVyMi5hcHBlbmRDaGlsZCggY29sU2VsZWN0QnV0dG9uICk7XHJcblxyXG4gICAgICAgICAgICBzZWxlY3RNZW1iZXJEaXYuYXBwZW5kQ2hpbGQoIGNvbFNlbGVjdE1lbWJlcjIgKTtcclxuICAgICAgICAgICAgY2FyZEJvZHkuYXBwZW5kQ2hpbGQoIHNlbGVjdE1lbWJlckRpdiApO1xyXG4gICAgICAgICAgICBjYXJkLmFwcGVuZENoaWxkKCBjYXJkQm9keSApO1xyXG4gICAgICAgICAgICBtZWV0aW5nc0xpc3REaXYuYXBwZW5kQ2hpbGQoIGNhcmQgKTtcclxuICAgICAgICB9ICk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IG1lZXRpbmdzTGlzdFRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICd0ZWFtc0xpc3RUaXRsZScgKTtcclxuICAgICAgICBtZWV0aW5nc0xpc3RUaXRsZS5pbm5lckhUTUwgPSAnU29ycnk6KCB5b3UgYXJlIG5vdCBwYXJ0IG9mIGFueSB0ZWFtLic7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAvLyByZWRpcmVjdCB0byBsb2dpbiBwYWdlIGlmIGF1dGhvcml6YXRpb24gdG9rZW4gZG9lc250IGV4aXN0XHJcbiAgICBpZiAoIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCBUT0tFTiApID09PSBudWxsICkge1xyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcvbG9naW4nO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGZldGNoIHlvdXIgdGVhbXNcclxuICAgIGZldGNoVGVhbXMoKVxyXG4gICAgICAgIC50aGVuKCAoIHRlYW1zICkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIHRlYW1zLm1lc3NhZ2UgPT09IFNVQ0NFU1MgKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRBbGxVc2VycygpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oICggX3VzZXJzICkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIF91c2Vycy5tZXNzYWdlID09PSBTVUNDRVNTICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnMgPSBfdXNlcnMuZGF0YTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvcHVsYXRlVGVhbXMoIHRlYW1zLmRhdGEgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvYXN0KCBgRXJyb3IgZmV0Y2hpbmcgdXNlcnM6ICR7X3VzZXJzLm1lc3NhZ2V9YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jYXRjaCggKCBlcnJvciApID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvYXN0KCBgRXJyb3IgZmV0Y2hpbmcgdXNlcnM6ICR7ZXJyb3IucmVzcG9uc2UuZGF0YS5kZXNjcmlwdGlvbn1gLCBkb2N1bWVudC5ib2R5LCBFUlJPUiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZFRvYXN0KCBgRXJyb3IgZmV0Y2hpbmcgdXNlcnM6ICR7ZXJyb3IubWVzc2FnZX1gLCBkb2N1bWVudC5ib2R5LCBFUlJPUiApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciBmZXRjaGluZyB0ZWFtczogJHt0ZWFtcy5tZXNzYWdlfWAsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IClcclxuICAgICAgICAuY2F0Y2goICggZXJyb3IgKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhZGRUb2FzdCggYEVycm9yIGZldGNoaW5nIHRlYW1zOiAke2Vycm9yLnJlc3BvbnNlLmRhdGEuZGVzY3JpcHRpb259YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgfSBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICBhZGRUb2FzdCggYEVycm9yIGZldGNoaW5nIHRlYW1zOiAke2Vycm9yLm1lc3NhZ2V9YCwgZG9jdW1lbnQuYm9keSwgRVJST1IgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gKTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVFbWFpbCggZW1haWwgKSB7XHJcbiAgICBjb25zdCByZSA9IC9eKChbXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XFxdKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcclxuICAgIHJldHVybiByZS50ZXN0KCBTdHJpbmcoIGVtYWlsICkudG9Mb3dlckNhc2UoKSApO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZVRlYW0oIHRlYW0gKSB7XHJcbiAgICBjb25zdCByZSA9IC9AW2EtekEtWlxcLTAtOV0rJC87XHJcbiAgICByZXR1cm4gcmUudGVzdCggU3RyaW5nKCB0ZWFtICkudG9Mb3dlckNhc2UoKSApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhdHRlbmRlZVR5cGUoIGF0dGVuZGVlICkge1xyXG4gICAgbGV0IHR5cGUgPSAnJztcclxuICAgIGlmICggdmFsaWRhdGVFbWFpbCggYXR0ZW5kZWUgKSApIHtcclxuICAgICAgICB0eXBlID0gJ2VtYWlsJztcclxuICAgIH0gZWxzZSBpZiAoIHZhbGlkYXRlVGVhbSggYXR0ZW5kZWUgKSApIHtcclxuICAgICAgICB0eXBlID0gJ3RlYW0nO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0eXBlID0gJ25vbmUnO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHR5cGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc2V0Rm9ybSgpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW5wdXRUZWFtTmFtZScgKS52YWx1ZSA9ICcnO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdpbnB1dFNob3J0TmFtZScgKS52YWx1ZSA9ICcnO1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICd0ZWFtRGVzY3JpcHRpb24nICkudmFsdWUgPSAnJztcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW5wdXRNZW1iZXJzJyApLnZhbHVlID0gJyc7XHJcbn1cclxuXHJcbmxldCBteU1vZGFsID0gbnVsbDtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnYWRkTmV3VGVhbUJ1dHRvbicgKS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICBteU1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdteU1vZGFsJyApICk7XHJcbiAgICBteU1vZGFsLnNob3coKTtcclxufSApO1xyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdtb2RhbERpc21pc3MnICkuYWRkRXZlbnRMaXN0ZW5lciggJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgLy8gY29uc3QgbXlNb2RhbCA9IG5ldyBib290c3RyYXAuTW9kYWwoIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnbXlNb2RhbCcgKSApO1xyXG4gICAgbXlNb2RhbC5oaWRlKCk7XHJcbn0gKTtcclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnc3VibWl0QWRkVGVhbScgKS5hZGRFdmVudExpc3RlbmVyKCAnY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyBjb25zdCBteU1vZGFsID0gbmV3IGJvb3RzdHJhcC5Nb2RhbCggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdteU1vZGFsJyApICk7XHJcbiAgICBteU1vZGFsLmhpZGUoKTtcclxuXHJcbiAgICBjb25zdCB0ZWFtTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW5wdXRUZWFtTmFtZScgKS52YWx1ZTtcclxuICAgIGlmICggdGVhbU5hbWUubGVuZ3RoID09PSAwICkge1xyXG4gICAgICAgIGFkZFRvYXN0KCAnUGxlYXNlIGVudGVyIGEgIHRlYW0gbmFtZScsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdGVhbVNob3J0TmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCAnaW5wdXRTaG9ydE5hbWUnICkudmFsdWU7XHJcbiAgICBpZiAoIHRlYW1OYW1lLmxlbmd0aCA9PT0gMCApIHtcclxuICAgICAgICBhZGRUb2FzdCggJ1BsZWFzZSBlbnRlciBhIHRlYW0gU2hvcnQgbmFtZS4nLCBkb2N1bWVudC5ib2R5LCBFUlJPUiApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0ZWFtRGVzY3JpcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggJ3RlYW1EZXNjcmlwdGlvbicgKS52YWx1ZTtcclxuXHJcbiAgICBpZiAoIHRlYW1OYW1lLmxlbmd0aCA8PSAwICkge1xyXG4gICAgICAgIGFkZFRvYXN0KCAnUGxlYXNlIGVudGVyIGEgbG9uZ2VyIGRlc2NyaXB0aW9uICggMTAgY2hhcmFjdGVycyBtaW4gKScsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdGVhbU1lbWJlcnMgPSAoICggZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoICdpbnB1dE1lbWJlcnMnICkudmFsdWUgKS5yZXBsYWNlKCAvXFxzKy9nLCAnJyApICkuc3BsaXQoICcsJyApO1xyXG5cclxuICAgIC8vIFRPRE86IFZhbGlkYXRpb25cclxuICAgIGNvbnN0IHN1Ym1pdEpTT04gPSBBRERfVEVBTV9GT1JNO1xyXG4gICAgc3VibWl0SlNPTlsnbmFtZSddID0gdGVhbU5hbWU7XHJcbiAgICBzdWJtaXRKU09OWydzaG9ydE5hbWUnXSA9IHRlYW1TaG9ydE5hbWU7XHJcbiAgICBzdWJtaXRKU09OWydkZXNjcmlwdGlvbiddID0gdGVhbURlc2NyaXB0aW9uO1xyXG4gICAgY29uc3QgYXR0ZW5kZWVzSlNPTiA9IFtdO1xyXG5cclxuICAgIGZvciAoIGxldCBpZHhBdHQgPSAwOyBpZHhBdHQgPCB0ZWFtTWVtYmVycy5sZW5ndGg7IGlkeEF0dCArPSAxICkge1xyXG4gICAgICAgIGNvbnN0IG1lbWJlciA9IHRlYW1NZW1iZXJzW2lkeEF0dF07XHJcbiAgICAgICAgc3dpdGNoICggYXR0ZW5kZWVUeXBlKCBtZW1iZXIgKSApIHtcclxuICAgICAgICBjYXNlICdlbWFpbCc6XHJcbiAgICAgICAgICAgIGZvciAoIGxldCBpZHggPSAwOyBpZHggPCB1c2Vycy5sZW5ndGg7IGlkeCArPSAxICkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCBtZW1iZXIudG9Mb3dlckNhc2UoKSA9PT0gdXNlcnNbaWR4XVsnZW1haWwnXS50b0xvd2VyQ2FzZSgpICkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dGVuZGVlc0pTT04ucHVzaCgge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHVzZXJzW2lkeF1bJ19pZCddLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogdXNlcnNbaWR4XVsnZW1haWwnXSxcclxuICAgICAgICAgICAgICAgICAgICB9ICk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc3VibWl0SlNPTlsnbWVtYmVycyddID0gYXR0ZW5kZWVzSlNPTjtcclxuXHJcbiAgICBhZGRUZWFtKCBzdWJtaXRKU09OIClcclxuICAgICAgICAudGhlbiggKCByZXNwb25zZSApID0+IHtcclxuICAgICAgICAgICAgaWYgKCByZXNwb25zZS5tZXNzYWdlID09PSBTVUNDRVNTICkge1xyXG4gICAgICAgICAgICAgICAgbXlNb2RhbC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICBhZGRUb2FzdCggJ1RlYW0gYWRkZWQgc3VjY2Vzc2Z1bGx5JywgZG9jdW1lbnQuYm9keSwgU1VDQ0VTUyApO1xyXG4gICAgICAgICAgICAgICAgcmVzZXRGb3JtKCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMTUwMCApO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciBhZGRpbmcgdGVhbTogJHtyZXNwb25zZS5tZXNzYWdlfWAsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IClcclxuICAgICAgICAuY2F0Y2goICggZXJyb3IgKSA9PiB7XHJcbiAgICAgICAgICAgIG15TW9kYWwuaGlkZSgpO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciBhZGRpbmcgdGVhbTogJHtlcnJvci5yZXNwb25zZS5kYXRhLmRlc2NyaXB0aW9ufWAsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2gge1xyXG4gICAgICAgICAgICAgICAgYWRkVG9hc3QoIGBFcnJvciBhZGRpbmcgdGVhbTogJHtlcnJvci5tZXNzYWdlfWAsIGRvY3VtZW50LmJvZHksIEVSUk9SICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ICk7XHJcbn0gKTtcclxuXHJcbmluaXQoKTtcclxuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9jc3NXaXRoTWFwcGluZ1RvU3RyaW5nLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCI6cm9vdCB7XFxyXFxuICAgIGZvbnQtc2l6ZTogMTZweDtcXHJcXG59XFxyXFxuXFxyXFxuKiB7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcblxcclxcbi5teS1jb2wge1xcclxcbiAgICBmbGV4LWJhc2lzOiAzMCU7XFxyXFxuICAgIGZsZXgtZ3JvdzogMDtcXHJcXG4gICAgZmxleC1zaHJpbms6IDA7XFxyXFxufVxcclxcblxcclxcbmhyIHtcXHJcXG4gICAgbWFyZ2luLXRvcDogMXJlbTtcXHJcXG4gICAgbWFyZ2luLWJvdHRvbTogMXJlbTtcXHJcXG4gICAgYm9yZGVyOiAwO1xcclxcbiAgICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEpO1xcclxcbn1cXHJcXG5cXHJcXG4ubXktZ3JpZCB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZml0LCBtaW5tYXgoMTlyZW0sIDFmcikpO1xcclxcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9wdWJsaWMvY3NzL3RlYW1zX2xpc3QuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixZQUFZO0lBQ1osY0FBYztBQUNsQjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsU0FBUztJQUNULHdDQUF3QztBQUM1Qzs7QUFFQTtJQUNJLGFBQWE7SUFDYiwyREFBMkQ7QUFDL0RcIixcInNvdXJjZXNDb250ZW50XCI6W1wiOnJvb3Qge1xcclxcbiAgICBmb250LXNpemU6IDE2cHg7XFxyXFxufVxcclxcblxcclxcbioge1xcclxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbn1cXHJcXG5cXHJcXG4ubXktY29sIHtcXHJcXG4gICAgZmxleC1iYXNpczogMzAlO1xcclxcbiAgICBmbGV4LWdyb3c6IDA7XFxyXFxuICAgIGZsZXgtc2hyaW5rOiAwO1xcclxcbn1cXHJcXG5cXHJcXG5ociB7XFxyXFxuICAgIG1hcmdpbi10b3A6IDFyZW07XFxyXFxuICAgIG1hcmdpbi1ib3R0b206IDFyZW07XFxyXFxuICAgIGJvcmRlcjogMDtcXHJcXG4gICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHJnYmEoMCwgMCwgMCwgMC4xKTtcXHJcXG59XFxyXFxuXFxyXFxuLm15LWdyaWQge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdChhdXRvLWZpdCwgbWlubWF4KDE5cmVtLCAxZnIpKTtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4vLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuX193ZWJwYWNrX3JlcXVpcmVfXy5tID0gX193ZWJwYWNrX21vZHVsZXNfXztcblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmIgPSBkb2N1bWVudC5iYXNlVVJJIHx8IHNlbGYubG9jYXRpb24uaHJlZjtcblxuLy8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3Ncbi8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuLy8gW3Jlc29sdmUsIHJlamVjdCwgUHJvbWlzZV0gPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG52YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuXHQ4NTY6IDBcbn07XG5cbi8vIG5vIGNodW5rIG9uIGRlbWFuZCBsb2FkaW5nXG5cbi8vIG5vIHByZWZldGNoaW5nXG5cbi8vIG5vIHByZWxvYWRlZFxuXG4vLyBubyBITVJcblxuLy8gbm8gSE1SIG1hbmlmZXN0XG5cbl9fd2VicGFja19yZXF1aXJlX18uTy5qID0gKGNodW5rSWQpID0+IChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPT09IDApO1xuXG4vLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbnZhciB3ZWJwYWNrSnNvbnBDYWxsYmFjayA9IChwYXJlbnRDaHVua0xvYWRpbmdGdW5jdGlvbiwgZGF0YSkgPT4ge1xuXHR2YXIgW2NodW5rSWRzLCBtb3JlTW9kdWxlcywgcnVudGltZV0gPSBkYXRhO1xuXHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcblx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG5cdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDA7XG5cdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG5cdFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLm1bbW9kdWxlSWRdID0gbW9yZU1vZHVsZXNbbW9kdWxlSWRdO1xuXHRcdH1cblx0fVxuXHRpZihydW50aW1lKSB2YXIgcmVzdWx0ID0gcnVudGltZShfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblx0aWYocGFyZW50Q2h1bmtMb2FkaW5nRnVuY3Rpb24pIHBhcmVudENodW5rTG9hZGluZ0Z1bmN0aW9uKGRhdGEpO1xuXHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuXHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcblx0XHRcdGluc3RhbGxlZENodW5rc1tjaHVua0lkXVswXSgpO1xuXHRcdH1cblx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZHNbaV1dID0gMDtcblx0fVxuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5PKHJlc3VsdCk7XG59XG5cbnZhciBjaHVua0xvYWRpbmdHbG9iYWwgPSBzZWxmW1wid2VicGFja0NodW5rbWVldGluZ3NcIl0gPSBzZWxmW1wid2VicGFja0NodW5rbWVldGluZ3NcIl0gfHwgW107XG5jaHVua0xvYWRpbmdHbG9iYWwuZm9yRWFjaCh3ZWJwYWNrSnNvbnBDYWxsYmFjay5iaW5kKG51bGwsIDApKTtcbmNodW5rTG9hZGluZ0dsb2JhbC5wdXNoID0gd2VicGFja0pzb25wQ2FsbGJhY2suYmluZChudWxsLCBjaHVua0xvYWRpbmdHbG9iYWwucHVzaC5iaW5kKGNodW5rTG9hZGluZ0dsb2JhbCkpOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgZGVwZW5kcyBvbiBvdGhlciBsb2FkZWQgY2h1bmtzIGFuZCBleGVjdXRpb24gbmVlZCB0byBiZSBkZWxheWVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyh1bmRlZmluZWQsIFszOSw5MTEsOTYwXSwgKCkgPT4gKF9fd2VicGFja19yZXF1aXJlX18oMzUxNSkpKVxuX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18uTyhfX3dlYnBhY2tfZXhwb3J0c19fKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=